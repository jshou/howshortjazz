<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>How Short Jazz</title>
  <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
  <style>
    body {
      max-width: 500px;
      margin: 0 auto;
      font-family: "Courier New", Courier, monospace;
      padding: 20px;
      line-height: 1.5;
      color: #222
    }

    a {
      color: #3240F3;
    }

    h1 {
      text-align: center;
    }

    .section {
      margin: 50px 0 30px;
    }

    .about {
      margin-bottom: 65px;
    }

    .header {
      display: block;
      margin: 30px auto;
      width: 300px;
    }

    table {
      margin: 30px auto;
    }

    td {
      padding: 0 20px;
    }

    .recording {
      padding-bottom: 20px;
    }
  </style>
</head>

<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<img class="header" src="howshort_web.jpg" alt="How Short Jazz"/>

<h1>how short jazz</h1>

<div class="section about">
  <p>How Short plays happy jazz, the kind that gets you out of your seat and moving. Their repertoire includes old classics from the Great American Songbook as well as unique arrangements of more recent tunes, but it all swings hard. Backed by a rhythmic accordion and lightning fast guitar, Andy and Josh's magic blend of vocals will keep you dancing all night long. </p>

  <table>
    <tr>
      <td>Josh Hou</td>
      <td>piano, accordion, vocals</td>
    </tr>

    <tr>
      <td>Andy Short</td>
      <td>guitar, vocals</td>
    </tr>
  </table>
</div>

<div class="section">
  <h2>contact</h2>
  <p>For events, parties, weddings and dances, contact us at  <a href="mailto:josh@howshortjazz.com">josh@howshortjazz.com</a>!</p>

  <p>Click <a href="https://docs.google.com/forms/d/1WfV820MXfEG5x0Yuaen0ohGb648ea1ZxqYbKCAvdSxI/viewform">here</a> to sign up for our (super super low traffic) mailing list for news on shows we're playing!</p>

  <p>Like our <a href="https://facebook.com/howshortjazz">Facebook page</a> for more news on shows we're playing (or when we're out busking)!</p>
  <div class="fb-like" data-href="https://www.facebook.com/howshortjazz/" data-layout="standard" data-action="like" data-show-faces="false" data-share="true"></div>
</div>

<div class="section" id="shows">
  <h2>upcoming shows</h2>
  <template v-for="show in shows">
    <p>
      {{ show.date }}, {{ show.start }} - {{ show.end }}<br/>
      <a v-bind:href="show.address">{{ show.venue }}</a>
    </p>
  </template>

</div>

<div class="section">
  <h2>music</h2>

  <div class="recording">
    <h3>Moon Songs</h3>
    <p>We released an album! Buy it on <a href="https://www.cdbaby.com/cd/howshort">cdbaby</a> or listen on <a href="https://play.spotify.com/album/0ZXjpzt8x0Fdf8dkEDdOtl">Spotify</a> </p>

    <p>Here are a couple sample tracks off the album!</p>
    <iframe width="100%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/312006651&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>
  </div>
</div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-30674736-5', 'auto');
ga('send', 'pageview');

</script>
<script>
var showCalendar = new Vue({
  el: '#shows',
  data: {
    shows: []
  }
});

var loadShows = function(bandName) {

  const mykey = 'AIzaSyCA9pV8ZJNnG2Gmerj71DF30noN8DTiQ9c';
  const calendarid = 'nr5jftdjm9p0lg4pigi0dsld6c@group.calendar.google.com';

  const yesterday = new Date(Date.now() - 864e5); // 864e5 == 86400000 == 24*60*60*1000

  const options = {
    key: mykey,
    maxResults: 20,
    orderBy: 'startTime',
    singleEvents: true,
    timeMin: yesterday.toISOString()
  };

  axios.get('https://www.googleapis.com/calendar/v3/calendars/' + calendarid + '/events', {
    params: options
  }).then(function(response) {
    var data = response.data;
    for (var i = 0; i < data.items.length; i++) {
      var date =  moment(data.items[i].start.dateTime).format('dddd, MMM Do YYYY');
      var start = moment(data.items[i].start.dateTime).format('h:mmA');
      var end = moment(data.items[i].end.dateTime).format('h:mmA');
      var event = data.items[i].summary.split('@').map(function(s) { return s.trim(); });
      var band = event[0];
      var venue = event[1];


      var show = {
        'date': date,
        'start': start,
        'end': end,
        'band': band,
        'venue': venue,
      };

      var address = data.items[i].location;
      if (typeof(address) == 'undefined') {
      } else {
        var mapLink = "https://www.google.com/maps/search/?api=1&query=" + encodeURIComponent(data.items[i].location);
        show.address = mapLink;
      }

      if (band == bandName) {
        showCalendar.shows.push(show);
      }
    }

  }.bind(this));
}

loadShows("How Short");

</script>
</body>
</html>
